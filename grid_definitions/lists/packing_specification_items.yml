---
:dataminer_definition: packing_specification_items
:actions:
- :url: "/production/packing_specifications/packing_specification_items/$:id$"
  :text: view
  :icon: view-show
  :title: View
  :popup: true
- :url: "/production/packing_specifications/packing_specification_items/$:id$/edit"
  :text: edit
  :icon: edit
  :title: Edit
  :popup: true
- :url: "/production/packing_specifications/packing_specification_items/$:id$/clone"
  :text: clone
  :icon: copy
  :title: Clone
  :popup: true
- :url: "/production/packing_specifications/packing_specification_items/$:id$"
  :text: delete
  :icon: delete
  :is_delete: true
  :popup: true
- :separator: true
- :url: "/development/statuses/list/packing_specification_items/$:id$"
  :text: status
  :icon: information-solid
  :title: Status
  :popup: true
:page_controls:
- :control_type: :link
  :url: "/production/packing_specifications/packing_specification_items/new"
  :text: New Packing Specification Item
  :style: :button
  :behaviour: :popup
- :control_type: :link
  :url: "/production/packing_specifications/packing_specification_items/refresh"
  :text: Refresh Packing Specification Items
  :style: :button
:captions:
  :conditions:
    :packing_specification: $:packing_specification$ Items
:conditions:
  :packing_specification:
    - :col: packing_specification_items.packing_specification_id
      :op: "="
      :val: "$:id$"
:edit_rules:
  :url: "/production/packing_specifications/packing_specification_items/$:id$/inline_edit"
  :editable_fields:
    description:
      :editor: :textarea
      :width: 200
    pm_mark:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT mark_code ||'_'|| array_to_string(packaging_marks, '_') pm_mark
                  FROM pm_marks
                  JOIN marks ON marks.id = pm_marks.mark_id
    pm_bom:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT bom_code
                  FROM pm_boms
    tu_labour_product:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'TU_LABOUR'
    ru_labour_product:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'RU_LABOUR'
    ri_labour_product:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'RI_LABOUR'
    fruit_sticker_1:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'FRUIT_STICKER'
    fruit_sticker_2:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'FRUIT_STICKER'
    tu_sticker_1:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'TU_STICKER'
    tu_sticker_2:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'TU_STICKER'
    ru_sticker_1:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECTSELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'RU_STICKER'
    ru_sticker_2:
      :editor: :search_select
      :value_sql: SELECT NULL
                  UNION ALL
                  SELECT product_code
                  FROM pm_products
                  JOIN pm_subtypes ON pm_products.pm_subtype_id = pm_subtypes.id
                  WHERE pm_subtypes.subtype_code = 'RU_STICKER'

